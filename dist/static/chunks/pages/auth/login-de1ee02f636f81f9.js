(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{163:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(4918)}])},3876:function(e,t,s){"use strict";var a=s(5893),n=s(3334),i=s(3858),r=s(7294);let l=e=>{let{icon:t,heading:s,subHeading:l,children:o}=e,[c,d]=(0,n.b)();return(0,r.useEffect)(()=>{console.log("loading",c.loading)},[c.loading]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex justify-center relative w-full py-20",children:[(0,a.jsx)(i.Z,{}),c.dialog&&(0,a.jsx)(c.dialog,{}),(0,a.jsxs)("div",{className:"flex flex-col md:w-90 w-full items-center h-full pt-12 md:pt-24 px-4 ",children:[(0,a.jsx)("div",{className:"mb-6",children:t}),(0,a.jsx)("div",{className:"text-2xl md:text-3xl font-semibold text-gray-900 mb-2 md:mb-3",children:s}),(0,a.jsx)("div",{className:"mb-8 text-gray-600 text-center whitespace-nowrap",children:l}),o]})]})})};t.Z=l},405:function(e,t,s){"use strict";var a=s(5893),n=s(4184),i=s.n(n),r=s(7294),l=s(5551);let o=e=>{var t,s;let[n,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:i()("input-wrapper input-primary",{"input-error":(null===(t=e.state)||void 0===t?void 0:t.type)==="error","input-primary":void 0===e.state}),"data-testid":e.testId,children:[(0,a.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:e.label}),(0,a.jsxs)("div",{className:i()("input-base",{focus:n}),children:[e.startIcon&&e.startIcon,(0,a.jsx)("input",{value:e.value,onChange:t=>e.onChange(t.target.value),type:e.showEye?c?"text":"password":e.type||"text",onFocus:()=>o(!0),onBlur:()=>o(!1),placeholder:e.placeholder,autoComplete:"off"}),(0,a.jsx)("div",{onClick:()=>d(!c),className:"cursor-pointer",children:e.showEye&&(c?l.ci.eyeClose:l.ci.eye)}),e.endIcon&&e.endIcon]}),(0,a.jsx)("div",{className:"text-sm helper-text",children:null===(s=e.state)||void 0===s?void 0:s.text})]})};t.Z=o},3858:function(e,t,s){"use strict";var a=s(5893),n=s(4206),i=s(3334),r=s(5551);let l=()=>{let[e,t]=(0,i.b)();return e.loading?(0,a.jsx)("div",{className:"absolute pt-36 top-0 left-0 h-full w-full flex justify-center bg-white z-10",children:(0,a.jsx)(n.NB,{colors:[r.O9.primary[400],r.O9.primary[400],r.O9.primary[400],r.O9.primary[400],r.O9.primary[400]],height:56,width:56})}):null};t.Z=l},9416:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var a=s(5893),n=s(4184),i=s.n(n),r=s(7294),l=s(5551);let o=e=>{let[t,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{window.addEventListener("click",e=>{e.target})},[]),(0,a.jsxs)("div",{className:"gap-2 px-4 md:px-0 py-2.5 md:py-0 text-gray-600 relative flex cursor-pointer items-center md:justify-start justify-between",children:[(0,a.jsxs)("div",{onClick:()=>s(!t),className:" font-semibold gap-4 flex",children:[(0,a.jsx)("div",{className:"md:hidden",children:e.icon}),e.text]}),e.subItems&&l.ci.arrowDown]})},c=[{text:"Home",url:"/",icon:l.ci.home},{text:"Products",url:"/",icon:l.ci.home},{text:"Home",url:"/",icon:l.ci.home,subItems:[{text:"Overview",url:"/"},{text:"Overview",url:"/"},{text:"Overview",url:"/"}]},{text:"Home",url:"/",icon:l.ci.home},{text:"Home",url:"/",icon:l.ci.home}],d=()=>{let[e,t]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"h-18 md:h-20 flex items-center px-4 lg:px-28 border-b border-b-gray-100 justify-between w-full",children:[(0,a.jsxs)("div",{className:"gap-10 flex w-full items-center",children:[(0,a.jsx)("img",{src:"/images/logo.png"}),(0,a.jsx)("div",{className:"gap-8 hidden md:flex w-full",children:c.map(e=>(0,a.jsx)(o,{...e}))})]}),(0,a.jsxs)("div",{className:"gap-8 hidden md:flex whitespace-nowrap items-center",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-600 cursor-pointer",children:"Log in"}),(0,a.jsx)("div",{className:"bg-primary-400 cursor-pointer rounded-lg text-white font-semibold py-2.5 px-3.5",children:"Sign up"})]}),(0,a.jsx)("div",{className:"cursor-pointer flex items-center md:hidden",onClick:()=>t(!e),children:l.ci.menuBars}),(0,a.jsxs)("div",{className:i()("shadow-lg h-screen md:hidden z-10 top-0 transition-all ease-in time duration-300   bg-white fixed flex flex-col w-9/12 pt-4 px-2",{"left-0":e,"-left-full":!e}),children:[(0,a.jsx)("img",{src:"/images/logo.png",className:"mb-8 h-fit w-fit mx-4 "}),(0,a.jsx)("div",{className:"gap-1 flex flex-col w-full",children:c.map(e=>(0,a.jsx)(o,{...e}))})]})]})};var u=d},4824:function(e,t,s){"use strict";var a=s(5893),n=s(3334);let i=e=>{let{Component:t}=e;return(0,a.jsx)(n.n,{children:(0,a.jsx)(t,{})})};t.Z=i},5183:function(e,t,s){"use strict";s.d(t,{c:function(){return r}});var a=s(7294),n=s(3334),i=s(5551);function r(e){let[t,s]=(0,n.b)(),[r,l]=(0,a.useState)(e.inputs),o=Object.fromEntries(Object.keys(e.inputs).map(e=>[e,{onChange:t=>{l({...r,[e]:{...r[e],value:t}})},setState:t=>{l({...r,[e]:{...r[e],state:t}})},value:r[e].value,state:r[e].state}])),c=()=>{let t={...r};for(let e in r){let s=e,a=r[s];if(a.checks){let e=!1;for(let n of a.checks)if(n.cond(a.value)){t[s].state=n.state,e=!0;break}console.log("state changed",e),e||(t[s].state=void 0)}l({...t})}s({setState:{loading:!0}}),fetch("".concat(i.ho).concat(e.api),{method:"POST",body:JSON.stringify(Object.fromEntries(Object.entries(o).map(e=>{let[t,s]=e;return[t,s.value]}))),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth-token"))}}).then(e=>e.json()).then(t=>{if(console.log(t,"Response from api"),void 0===t.statusCode)e.onSuccess&&e.onSuccess(t),s({setState:{error:{title:"",message:""}}});else{var a;null==e||null===(a=e.onFail)||void 0===a||a.call(e,t),s({setState:{error:{title:t.error,message:t.message}}})}}).catch(e=>{}).finally(()=>{s({setState:{loading:!1}})})},d=e=>{let t=Object.fromEntries(Object.keys(r).map(t=>[t,{...r[t],...e[t]||{}}]));l({...r,...t})};return console.log(o,"inputs data"),{onSubmit:c,inputsData:o,data:r,setData:d}}},4918:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(5893),n=s(9008),i=s.n(n),r=s(7294),l=s(3876);let o=e=>{let{value:t,onChange:s,label:n,className:i}=e;return(0,a.jsxs)("div",{className:"flex gap-2 items-center  text-sm text-gray-700 font-medium",children:[(0,a.jsx)("input",{className:"text-primary-400 ".concat(i||""),type:"checkbox",id:n,checked:t,onChange:e=>s(e.target.checked)}),(0,a.jsx)("label",{htmlFor:n,children:n})]})};var c=s(405),d=s(3858),u=s(9416),m=s(3334),x=s(5183),h=s(5551),p=s(4824),f=s(1163);let g=()=>(0,h.rK)({method:"get",path:"company/profile"}),v=()=>(0,h.rK)({method:"get",path:"candidate/profile"});var b=s(9728);let j=()=>{let[e,t]=(0,m.b)(),[s,n]=(0,r.useState)(!1),p=(0,f.useRouter)(),{onSubmit:j,inputsData:y,setData:w,data:N}=(0,x.c)({inputs:{email:{type:"text",value:"",checks:[h.sr.required.string]},password:{type:"text",value:"",checks:[h.sr.required.string]},rememberMe:{type:"checkbox",value:!1}},api:"/account/login",onSuccess:e=>{localStorage.setItem("auth-token",e.access_token),w({email:{state:void 0},password:{state:void 0}}),t({setState:{loading:!0}}),g().then(e=>{console.log("my data",e),e?(p.push("/company/dashboard"),t({setState:{loading:!1}})):v().then(e=>{console.log("my data 2",e),e&&(p.push("/student/dashboard"),t({setState:{loading:!1}}))})})},onFail:e=>{"Unauthorized"===e.error&&w({email:{state:{type:"error",text:b.R0.wrongCredentials}},password:{state:{text:b.R0.wrongCredentials,type:"error"}}})}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Create Next App"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(u.Z,{}),(0,a.jsxs)(l.Z,{icon:h.ci.authPage.login,heading:"Log in to your account",subHeading:"Welcome back! Please enter your details.",children:[(0,a.jsx)(d.Z,{}),(0,a.jsxs)("div",{className:"inputs-y",children:[(0,a.jsx)(c.Z,{...y.email,value:"",testId:"input_email",label:"Email",placeholder:"Enter your email"}),(0,a.jsx)(c.Z,{...y.password,value:"",testId:"input_password",label:"Password",placeholder:"Enter your password",helperText:"This is a hint text to help user.",endIcon:h.ci.input.question})]}),(0,a.jsxs)("div",{className:"flex  checkbox justify-between w-full my-6",children:[(0,a.jsx)(o,{...y.rememberMe,label:"Remember for 30 days",className:"checkbox-sm"}),(0,a.jsx)("div",{className:" cursor-pointer text-sm font-semibold text-primary-400"})]}),(0,a.jsx)("button",{className:"btn-primary btn btn-sm mb-4","data-testid":"btn_sign-in",onClick:j,children:"Sign in"}),(0,a.jsxs)("button",{className:"btn-gray btn-outlined btn btn-sm gap-3 mb-8",children:[h.ci.brand.google,"Sign in with Google"]}),(0,a.jsxs)("div",{className:"flex gap-1 w-full justify-center items-center mb-10",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Donâ€™t have an account?"}),(0,a.jsx)("div",{className:"btn btn-link btn-primary w-fit",children:"Sign up"})]})]})]})},y=()=>(0,a.jsx)(p.Z,{Component:j});var w=y},1163:function(e,t,s){e.exports=s(6885)}},function(e){e.O(0,[772,348,774,888,179],function(){return e(e.s=163)}),_N_E=e.O()}]);